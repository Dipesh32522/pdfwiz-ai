<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Speed Test + Calculator Hub</title>
<style>
body {font-family: Arial, sans-serif; background:#f9f9f9; margin:0; padding:0; color:#333;}
header {background:#0066cc; color:#fff; padding:15px; text-align:center;}
nav {background:#004d99; padding:10px; text-align:center;}
nav a {color:#fff; margin:0 10px; text-decoration:none; font-weight:bold;}
section {padding:20px;}
.card {background:#fff; padding:15px; margin:10px auto; max-width:500px; border-radius:8px; box-shadow:0 2px 4px rgba(0,0,0,0.1);}
input, button {padding:8px; margin:5px 0; width:100%;}
button {background:#0066cc; color:#fff; border:none; cursor:pointer;}
button:hover {background:#004d99;}
.result {margin-top:10px; font-weight:bold;}
</style>
</head>
<body>

<header>
  <h1>ऑल-इन-वन टूल्स: इंटरनेट स्पीड टेस्ट + स्मार्ट कैलकुलेटर हब</h1>
</header>
<nav>
  <a href="#speedtest">स्पीड टेस्ट</a>
  <a href="#calculators">कैलकुलेटर</a>
</nav>

<section id="speedtest">
  <div class="card">
    <h2>इंटरनेट स्पीड टेस्ट + क्वालिटी स्कोर</h2>
    <p>Mbps के साथ लेटेंसी, जिटर और पैकेट लॉस आकलन करें।</p>
    <button onclick="startSpeedTest()">टेस्ट शुरू करें</button>
    <div id="speedResults" class="result"></div>
  </div>
</section>

<section id="calculators">
  <div class="card">
    <h2>EMI कैलकुलेटर</h2>
    <input type="number" id="loan" placeholder="Loan Amount (₹)">
    <input type="number" id="rate" placeholder="Annual Interest Rate (%)">
    <input type="number" id="months" placeholder="Loan Period (months)">
    <button onclick="calcEMI()">EMI निकालें</button>
    <div id="emiResult" class="result"></div>
  </div>

  <div class="card">
    <h2>SIP कैलकुलेटर</h2>
    <input type="number" id="sipAmount" placeholder="Monthly Investment (₹)">
    <input type="number" id="sipRate" placeholder="Annual Return Rate (%)">
    <input type="number" id="sipYears" placeholder="Investment Period (years)">
    <button onclick="calcSIP()">SIP निकालें</button>
    <div id="sipResult" class="result"></div>
  </div>

  <div class="card">
    <h2>GST कैलकुलेटर</h2>
    <input type="number" id="gstAmount" placeholder="Amount (₹)">
    <input type="number" id="gstRate" placeholder="GST Rate (%)">
    <select id="gstType">
      <option value="add">GST जोड़ें</option>
      <option value="remove">GST निकालें</option>
    </select>
    <button onclick="calcGST()">GST कैलकुलेट करें</button>
    <div id="gstResult" class="result"></div>
  </div>
</section>

<script>
// -------- Speed Test Demo (Ping/Jitter) --------
function startSpeedTest(){
  const results = document.getElementById('speedResults');
  results.innerHTML = "टेस्ट चल रहा है...";
  let pingTimes = [];
  let count = 0;
  let totalPings = 5;
  const url = "https://www.google.com/images/branding/googlelogo/1x/googlelogo_light_color_92x30dp.png";
  function ping(){
    let start = performance.now();
    fetch(url,{mode:"no-cors",cache:"no-store"})
      .then(()=>{ 
        let time = performance.now()-start;
        pingTimes.push(time);
        count++;
        if(count<totalPings){ping();}else{
          let avg = pingTimes.reduce((a,b)=>a+b)/pingTimes.length;
          let jitter = pingTimes.map(p=>Math.abs(p-avg)).reduce((a,b)=>a+b)/pingTimes.length;
          results.innerHTML = 
            `औसत लेटेंसी: ${avg.toFixed(1)} ms<br>`+
            `जिटर: ${jitter.toFixed(1)} ms<br>`+
            `<small>Note: यह डेमो है, असली स्पीड और पैकेट लॉस के लिए बैकएंड सर्वर चाहिए।</small>`;
        }
      });
  }
  ping();
}

// -------- EMI --------
function calcEMI(){
  let P = parseFloat(document.getElementById('loan').value);
  let r = parseFloat(document.getElementById('rate').value)/100/12;
  let n = parseInt(document.getElementById('months').value);
  let emi = P * r * Math.pow(1+r, n) / (Math.pow(1+r, n) - 1);
  document.getElementById('emiResult').innerHTML = isFinite(emi) ? `EMI: ₹${emi.toFixed(2)}` : "सही वैल्यू डालें";
}

// -------- SIP --------
function calcSIP(){
  let P = parseFloat(document.getElementById('sipAmount').value);
  let r = parseFloat(document.getElementById('sipRate').value)/100/12;
  let n = parseInt(document.getElementById('sipYears').value)*12;
  let maturity = P * ((Math.pow(1+r, n) - 1)/r) * (1+r);
  let invested = P*n;
  document.getElementById('sipResult').innerHTML = isFinite(maturity) ? 
    `कुल राशि: ₹${maturity.toFixed(2)}<br>कुल निवेश: ₹${invested.toFixed(2)}<br>मुनाफा: ₹${(maturity-invested).toFixed(2)}`:
    "सही वैल्यू डालें";
}

// -------- GST --------
function calcGST(){
  let amount = parseFloat(document.getElementById('gstAmount').value);
  let rate = parseFloat(document.getElementById('gstRate').value)/100;
  let type = document.getElementById('gstType').value;
  if(type==="add"){
    let gst = amount*rate;
    document.getElementById('gstResult').innerHTML = `कुल: ₹${(amount+gst).toFixed(2)} (GST: ₹${gst.toFixed(2)})`;
  } else {
    let base = amount/(1+rate);
    let gst = amount-base;
    document.getElementById('gstResult').innerHTML = `बिना GST: ₹${base.toFixed(2)} (GST: ₹${gst.toFixed(2)})`;
  }
}
</script>

</body>
</html>
