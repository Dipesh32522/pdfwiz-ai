<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ProCal - Advanced Financial & Conversion Tools</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
  html { scroll-behavior: smooth; }
  body { font-family: 'Inter', sans-serif; }
  .btn { @apply px-6 py-3 rounded-lg font-bold transition-all duration-300 ease-in-out transform hover:scale-105; }
  .btn-primary { @apply bg-gradient-to-r from-green-600 to-emerald-500 text-white shadow-lg hover:shadow-xl; }
  .input-group { @apply flex flex-col space-y-2; }
  .input { @apply p-3 border border-gray-300 rounded-lg w-full transition-all duration-300 focus:border-green-500 focus:ring-2 focus:ring-green-200 outline-none; }
  .tab-card { @apply bg-white rounded-xl shadow-md overflow-hidden flex flex-wrap p-2; }
  .tab { @apply flex-1 text-center py-3 px-2 rounded-lg text-gray-500 hover:text-green-600 transition-all duration-300 cursor-pointer; }
  .tab.active { @apply bg-green-50 text-green-600 font-bold shadow-sm; }
  .card { @apply bg-white rounded-xl shadow-lg p-6 md:p-8 mt-6; }
  .result-box { @apply mt-6 bg-green-50 rounded-xl p-6 border-l-4 border-green-600; }
  .result-item { @apply flex justify-between items-center py-2 border-b border-green-200 last:border-b-0; }
  .result-label { @apply text-gray-600 font-medium; }
  .result-value { @apply text-green-700 font-bold text-lg; }
</style>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body class="bg-gray-100 text-gray-900">

<header class="bg-gradient-to-r from-green-600 to-emerald-500 text-white py-8 text-center shadow-lg">
  <div class="max-w-6xl mx-auto px-4">
    <h1 class="text-4xl font-extrabold tracking-tight">ProCal</h1>
    <p class="mt-2 text-lg opacity-90">Advanced Financial & Conversion Tools</p>
  </div>
</header>

<main class="max-w-6xl mx-auto p-4">
  <div class="tab-card">
    <button id="tab-loan" class="tab active" onclick="showSection('loan')">Loan/EMI</button>
    <button id="tab-rent" class="tab" onclick="showSection('rent')">Rent vs Buy</button>
    <button id="tab-sip" class="tab" onclick="showSection('sip')">SIP</button>
    <button id="tab-gst" class="tab" onclick="showSection('gst')">GST</button>
    <button id="tab-ci" class="tab" onclick="showSection('ci')">Compound Interest</button>
    <button id="tab-curr" class="tab" onclick="showSection('curr')">Currency</button>
    <button id="tab-unit" class="tab" onclick="showSection('unit')">Unit</button>
  </div>

  <section id="loan" class="card">
    <h2 class="text-2xl font-bold mb-6">Loan / EMI Calculator</h2>
    <div class="grid md:grid-cols-3 gap-6">
      <div class="input-group">
        <label for="loanAmount" class="text-sm font-semibold text-gray-600">Loan Amount (₹)</label>
        <input id="loanAmount" type="number" placeholder="e.g., 500000" class="input">
      </div>
      <div class="input-group">
        <label for="loanRate" class="text-sm font-semibold text-gray-600">Interest Rate (%)</label>
        <input id="loanRate" type="number" placeholder="e.g., 8.5" step="0.01" class="input">
      </div>
      <div class="input-group">
        <label for="loanYears" class="text-sm font-semibold text-gray-600">Tenure (Years)</label>
        <input id="loanYears" type="number" placeholder="e.g., 10" class="input">
      </div>
    </div>
    <button onclick="calculateEMI()" class="btn btn-primary mt-8 w-full md:w-auto">Calculate EMI</button>
    <div id="emiResultBox" class="result-box hidden">
      <div class="result-item">
        <span class="result-label">Monthly EMI:</span>
        <span id="emiResult" class="result-value"></span>
      </div>
      <div class="result-item">
        <span class="result-label">Total Payment:</span>
        <span id="totalPayment" class="result-value"></span>
      </div>
      <div class="result-item">
        <span class="result-label">Total Interest:</span>
        <span id="totalInterest" class="result-value"></span>
      </div>
      <canvas id="emiChart" class="mt-6"></canvas>
    </div>
  </section>

  <section id="rent" class="hidden card">
    <h2 class="text-2xl font-bold mb-6">Rent vs Buy</h2>
    <div class="grid md:grid-cols-2 gap-6">
      <div class="input-group">
        <label for="rentMonthly" class="text-sm font-semibold text-gray-600">Monthly Rent (₹)</label>
        <input id="rentMonthly" type="number" placeholder="e.g., 15000" class="input">
      </div>
      <div class="input-group">
        <label for="homePrice" class="text-sm font-semibold text-gray-600">Home Price (₹)</label>
        <input id="homePrice" type="number" placeholder="e.g., 7500000" class="input">
      </div>
      <div class="input-group">
        <label for="loanRate2" class="text-sm font-semibold text-gray-600">Loan Interest Rate (%)</label>
        <input id="loanRate2" type="number" placeholder="e.g., 7.8" class="input">
      </div>
      <div class="input-group">
        <label for="loanYears2" class="text-sm font-semibold text-gray-600">Loan Term (Years)</label>
        <input id="loanYears2" type="number" placeholder="e.g., 20" class="input">
      </div>
    </div>
    <button onclick="calcRentBuy()" class="btn btn-primary mt-8 w-full md:w-auto">Compare</button>
    <div id="rbResultBox" class="result-box hidden">
      <div class="result-item">
        <span class="result-label">Recommendation:</span>
        <span id="rbAdvice" class="result-value"></span>
      </div>
      <canvas id="rbChart" class="mt-6"></canvas>
    </div>
  </section>

  <section id="sip" class="hidden card">
    <h2 class="text-2xl font-bold mb-6">SIP Calculator</h2>
    <div class="grid md:grid-cols-3 gap-6">
      <div class="input-group">
        <label for="sipAmount" class="text-sm font-semibold text-gray-600">Monthly Investment (₹)</label>
        <input id="sipAmount" type="number" placeholder="e.g., 5000" class="input">
      </div>
      <div class="input-group">
        <label for="sipRate" class="text-sm font-semibold text-gray-600">Expected Return (%)</label>
        <input id="sipRate" type="number" placeholder="e.g., 12" step="0.01" class="input">
      </div>
      <div class="input-group">
        <label for="sipYears" class="text-sm font-semibold text-gray-600">Duration (Years)</label>
        <input id="sipYears" type="number" placeholder="e.g., 15" class="input">
      </div>
    </div>
    <button onclick="calcSIP()" class="btn btn-primary mt-8 w-full md:w-auto">Calculate SIP</button>
    <div id="sipResultBox" class="result-box hidden">
      <div class="result-item">
        <span class="result-label">Total Investment:</span>
        <span id="sipInvested" class="result-value"></span>
      </div>
      <div class="result-item">
        <span class="result-label">Estimated Returns:</span>
        <span id="sipReturns" class="result-value"></span>
      </div>
      <div class="result-item">
        <span class="result-label">Wealth Gain:</span>
        <span id="sipGain" class="result-value"></span>
      </div>
      <canvas id="sipChart" class="mt-6"></canvas>
    </div>
  </section>

  <section id="gst" class="hidden card">
    <h2 class="text-2xl font-bold mb-6">GST Calculator</h2>
    <div class="grid md:grid-cols-3 gap-6">
      <div class="input-group">
        <label for="gstAmount" class="text-sm font-semibold text-gray-600">Amount (₹)</label>
        <input id="gstAmount" type="number" placeholder="e.g., 1000" class="input">
      </div>
      <div class="input-group">
        <label for="gstRate" class="text-sm font-semibold text-gray-600">GST Rate (%)</label>
        <input id="gstRate" type="number" placeholder="e.g., 18" class="input" value="18">
      </div>
      <div class="input-group">
        <label for="gstMode" class="text-sm font-semibold text-gray-600">Mode</label>
        <select id="gstMode" class="input">
          <option value="inclusive">Inclusive</option>
          <option value="exclusive">Exclusive</option>
        </select>
      </div>
    </div>
    <button onclick="calcGST()" class="btn btn-primary mt-8 w-full md:w-auto">Calculate GST</button>
    <div id="gstResultBox" class="result-box hidden">
      <div class="result-item">
        <span class="result-label">Base Amount:</span>
        <span id="gstBase" class="result-value"></span>
      </div>
      <div class="result-item">
        <span class="result-label">GST:</span>
        <span id="gstValue" class="result-value"></span>
      </div>
      <div class="result-item">
        <span class="result-label">Total:</span>
        <span id="gstTotal" class="result-value"></span>
      </div>
    </div>
  </section>

  <section id="ci" class="hidden card">
    <h2 class="text-2xl font-bold mb-6">Compound Interest</h2>
    <div class="grid md:grid-cols-4 gap-6">
      <div class="input-group">
        <label for="ciPrincipal" class="text-sm font-semibold text-gray-600">Principal (₹)</label>
        <input id="ciPrincipal" type="number" placeholder="e.g., 10000" class="input">
      </div>
      <div class="input-group">
        <label for="ciRate" class="text-sm font-semibold text-gray-600">Rate (%)</label>
        <input id="ciRate" type="number" placeholder="e.g., 8" class="input">
      </div>
      <div class="input-group">
        <label for="ciYears" class="text-sm font-semibold text-gray-600">Years</label>
        <input id="ciYears" type="number" placeholder="e.g., 5" class="input">
      </div>
      <div class="input-group">
        <label for="ciFreq" class="text-sm font-semibold text-gray-600">Times Compounded/Year</label>
        <input id="ciFreq" type="number" placeholder="e.g., 12 (monthly)" class="input" value="12">
      </div>
    </div>
    <button onclick="calcCI()" class="btn btn-primary mt-8 w-full md:w-auto">Calculate</button>
    <div id="ciResultBox" class="result-box hidden">
      <div class="result-item">
        <span class="result-label">Future Value:</span>
        <span id="ciFuture" class="result-value"></span>
      </div>
      <div class="result-item">
        <span class="result-label">Interest Earned:</span>
        <span id="ciEarned" class="result-value"></span>
      </div>
    </div>
  </section>

  <section id="curr" class="hidden card">
    <h2 class="text-2xl font-bold mb-6">Currency Converter</h2>
    <div class="grid md:grid-cols-4 gap-6 items-end">
      <div class="input-group col-span-1 md:col-span-2">
        <label for="currAmount" class="text-sm font-semibold text-gray-600">Amount</label>
        <input id="currAmount" type="number" placeholder="e.g., 100" class="input">
      </div>
      <div class="input-group">
        <label for="currFrom" class="text-sm font-semibold text-gray-600">From</label>
        <select id="currFrom" class="input">
          <option value="INR">INR - Indian Rupee</option>
          <option value="USD">USD - US Dollar</option>
          <option value="EUR">EUR - Euro</option>
        </select>
      </div>
      <div class="input-group">
        <label for="currTo" class="text-sm font-semibold text-gray-600">To</label>
        <select id="currTo" class="input">
          <option value="USD">USD - US Dollar</option>
          <option value="INR">INR - Indian Rupee</option>
          <option value="EUR">EUR - Euro</option>
        </select>
      </div>
    </div>
    <button onclick="convertCurrency()" class="btn btn-primary mt-8 w-full md:w-auto">Convert</button>
    <div id="currResultBox" class="result-box hidden">
      <div class="result-item">
        <span class="result-label">Converted Amount:</span>
        <span id="currResult" class="result-value"></span>
      </div>
    </div>
  </section>

  <section id="unit" class="hidden card">
    <h2 class="text-2xl font-bold mb-6">Unit Converter</h2>
    <div class="grid md:grid-cols-4 gap-6 items-end">
      <div class="input-group col-span-1 md:col-span-2">
        <label for="unitValue" class="text-sm font-semibold text-gray-600">Value</label>
        <input id="unitValue" type="number" placeholder="e.g., 100" class="input">
      </div>
      <div class="input-group">
        <label for="unitFrom" class="text-sm font-semibold text-gray-600">From</label>
        <select id="unitFrom" class="input">
          <option value="m">Meters</option>
          <option value="km">Kilometers</option>
          <option value="ft">Feet</option>
          <option value="mi">Miles</option>
        </select>
      </div>
      <div class="input-group">
        <label for="unitTo" class="text-sm font-semibold text-gray-600">To</label>
        <select id="unitTo" class="input">
          <option value="km">Kilometers</option>
          <option value="m">Meters</option>
          <option value="ft">Feet</option>
          <option value="mi">Miles</option>
        </select>
      </div>
    </div>
    <button onclick="convertUnit()" class="btn btn-primary mt-8 w-full md:w-auto">Convert</button>
    <div id="unitResultBox" class="result-box hidden">
      <div class="result-item">
        <span class="result-label">Converted Value:</span>
        <span id="unitResult" class="result-value"></span>
      </div>
    </div>
  </section>
</main>

<script>
// The JavaScript remains the same as it is already functional.
function showSection(id){
  document.querySelectorAll('section').forEach(s=>s.classList.add('hidden'));
  document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
  document.getElementById(id).classList.remove('hidden');
  document.getElementById('tab-'+id).classList.add('active');
}

// Loan EMI
let emiChart=null;
function calculateEMI(){
  let P=parseFloat(loanAmount.value), r=parseFloat(loanRate.value)/12/100, n=parseFloat(loanYears.value)*12;
  if(!P||!r||!n) return alert("Fill all fields");
  let EMI=(P*r*Math.pow(1+r,n))/(Math.pow(1+r,n)-1);
  let total=EMI*n, interest=total-P;
  emiResult.textContent=`₹${EMI.toFixed(2)}`;
  totalPayment.textContent=`₹${total.toFixed(2)}`;
  totalInterest.textContent=`₹${interest.toFixed(2)}`;
  emiResultBox.classList.remove('hidden');
  if(emiChart) emiChart.destroy();
  emiChart=new Chart(document.getElementById('emiChart').getContext('2d'),{
    type:'pie',data:{labels:['Principal','Interest'],datasets:[{data:[P,interest],backgroundColor:['#22c55e','#ef4444']}]}});
}

// Rent vs Buy
let rbChart=null;
function calcRentBuy(){
  let rent=parseFloat(rentMonthly.value)*12, price=parseFloat(homePrice.value), r=parseFloat(loanRate2.value)/12/100, n=parseFloat(loanYears2.value)*12;
  if(!rent||!price||!r||!n) return alert("Fill all fields");
  let EMI=(price*r*Math.pow(1+r,n))/(Math.pow(1+r,n)-1);
  let buyCost=EMI*n;
  let advice=buyCost>rent*loanYears2.value?'Renting may be cheaper':'Buying may be cheaper';
  rbAdvice.textContent=advice;
  rbResultBox.classList.remove('hidden');
  if(rbChart) rbChart.destroy();
  rbChart=new Chart(document.getElementById('rbChart').getContext('2d'),{
    type:'bar',data:{labels:['Rent Paid','Buy Cost'],datasets:[{data:[rent*loanYears2.value,buyCost],backgroundColor:['#3b82f6','#f59e0b']}]},options:{scales:{y:{beginAtZero:true}}}});
}

// SIP
let sipChart=null;
function calcSIP(){
  let amt=parseFloat(sipAmount.value), rate=parseFloat(sipRate.value)/12/100, months=parseFloat(sipYears.value)*12;
  if(!amt||!rate||!months) return alert("Fill all fields");
  let invested=amt*months, future=amt*((Math.pow(1+rate,months)-1)/rate)*(1+rate), gain=future-invested;
  sipInvested.textContent=`₹${invested.toFixed(2)}`;
  sipReturns.textContent=`₹${future.toFixed(2)}`;
  sipGain.textContent=`₹${gain.toFixed(2)}`;
  sipResultBox.classList.remove('hidden');
  if(sipChart) sipChart.destroy();
  sipChart=new Chart(document.getElementById('sipChart').getContext('2d'),{
    type:'pie',data:{labels:['Invested','Gain'],datasets:[{data:[invested,gain],backgroundColor:['#06b6d4','#f43f5e']}]}});
}

// GST
function calcGST(){
  let amt=parseFloat(gstAmount.value), rate=parseFloat(gstRate.value)/100, mode=gstMode.value;
  if(!amt||!rate) return alert("Fill fields");
  let base, gstVal, total;
  if(mode==='exclusive'){ base=amt; gstVal=amt*rate; total=base+gstVal; }
  else { total=amt; base=amt/(1+rate); gstVal=total-base; }
  gstBase.textContent=`₹${base.toFixed(2)}`;
  gstValue.textContent=`₹${gstVal.toFixed(2)}`;
  gstTotal.textContent=`₹${total.toFixed(2)}`;
  gstResultBox.classList.remove('hidden');
}

// Compound Interest
function calcCI(){
  let P=parseFloat(ciPrincipal.value), r=parseFloat(ciRate.value)/100, t=parseFloat(ciYears.value), n=parseFloat(ciFreq.value);
  if(!P||!r||!t||!n) return alert("Fill all fields");
  let A=P*Math.pow(1+(r/n),n*t), interest=A-P;
  ciFuture.textContent=`₹${A.toFixed(2)}`;
  ciEarned.textContent=`₹${interest.toFixed(2)}`;
  ciResultBox.classList.remove('hidden');
}

// Currency Converter (offline demo)
const rates={INR:{USD:0.012,EUR:0.011},USD:{INR:83.0,EUR:0.92},EUR:{INR:90.0,USD:1.09}};
function convertCurrency(){
  let amt=parseFloat(currAmount.value), from=currFrom.value, to=currTo.value;
  if(!amt||from===to) return alert('Enter value and pick different currencies');
  let val=amt*rates[from][to];
  currResult.textContent=`${to} ${val.toFixed(2)}`;
  currResultBox.classList.remove('hidden');
}

// Unit Converter (distance)
const factors={m:1,km:1000,ft:0.3048,mi:1609.34};
function convertUnit(){
  let val=parseFloat(unitValue.value), from=unitFrom.value, to=unitTo.value;
  if(!val||from===to) return alert('Enter value and pick different units');
  let meters=val*factors[from];
  let out=meters/factors[to];
  unitResult.textContent=out.toFixed(4)+' '+to;
  unitResultBox.classList.remove('hidden');
}
</script>
</body>
</html>
